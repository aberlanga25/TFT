#:import MDToolbar kivymd.toolbar.MDToolbar
#:import MDNavigationDrawer kivymd.navigationdrawer.MDNavigationDrawer
#:import NavigationLayout kivymd.navigationdrawer.NavigationLayout
#:import NavigationDrawerToolbar kivymd.navigationdrawer.NavigationDrawerToolbar
#:import CardTransition kivy.uix.screenmanager.CardTransition
#:import SmartTile kivymd.imagelists.SmartTile
#:import MDSeparator kivymd.cards.MDSeparator
#:import Factory kivy.factory.Factory
#:import MDDropdownMenu kivymd.menus.MDDropdownMenu

<MDCustomIconItem>:
    text: root.text
    AvatarSampleWidget:
        source: root.icon
<MySmartTile>
    mipmap: True
    box_color: 0,0,0,0
<MyImage>
    size: dp(100), dp(100)
<LabelChamp>
    size_hint_y: None
    height: self.texture_size[1]
    font_style: 'Subtitle2'
    theme_text_color: 'Primary'
    markup: True
    halign: 'center'
    text_size: self.width - 20, None
<LabelPop>
    size_hint_y: None
    height: self.texture_size[1]
    color: 1, 1, 1, 1
    halign: 'center'
    valign: 'middle'
<Plus@MDLabel>
    text: "+"
    halign: "center"
    color: 1, 1, 1, 1
    size_hint_y: 0.1

<TierLabel@MDLabel>
    size_hint_y: None
    height: self.texture_size[1]
    font_style: 'H6'
    theme_text_color: 'Primary'
    markup: True
    halign: 'left'
    text_size: self.width - 20, None
<GridTier@GridLayout>
    row_force_default: True
    size_hint_y: None
    height: self.minimum_height
    padding: dp(10), dp(10)
    spacing: dp(10)
<GridPop>
    cols: 4
    row_default_height:
        (self.width - self.cols*self.spacing[0])/self.cols
    row_force_default: True
    size_hint_y: None
    height: self.minimum_height
    spacing: dp(10)
<GridItem>
    cols:2
    #row_default_height:
      #  (self.width - self.cols*self.spacing[0])/self.cols
    #row_force_default: True
    size_hint_y: None
    #height: self.minimum_height

NavigationLayout:
    id: nav_layout
    MDNavigationDrawer:
        id: nav_drawer
        drawer_logo: 'images/Logo.png'
        NavigationDrawerToolbar:
            title: 'B?'
    BoxLayout:
        scr_mngr: scr_mngr
        orientation: 'vertical'
        MDToolbar:
            id: toolbar
            title: 'TFT'
            elevation: 10
            left_action_items: [['menu', lambda x: app.root.toggle_nav_drawer()]]
            md_bg_color: app.theme_cls.primary_color

        ScreenManager:
            transition: CardTransition()
            id: scr_mngr
            Screen:
                name: 'tier'
                id: 'tier'
                on_enter:
                    app.addButton()
                    app.ads.show_banner()
                ScrollView:
                    do_scroll_x: True
                    GridLayout:
                        id: tiergrid
                        rows:15
                        cols:1
                        #width: dp(700)
                        height: self.minimum_height
                        size_hint_y: None
                        #size_hint_x: None
                        padding: dp(4), dp(4)
                        spacing: dp(4)
                        TierLabel:
                            text: 'Tier 1'
                        MDSeparator:
                        GridTier:
                            cols: 4
                            id: tier1
                            row_default_height:
                                (self.width - self.cols*self.spacing[0])/self.cols
                        TierLabel:
                            text: 'Tier 2'
                        MDSeparator:
                        GridTier:
                            cols: 4
                            id: tier2
                            row_default_height:
                                (self.width - self.cols*self.spacing[0])/self.cols
                        TierLabel:
                            text: 'Tier 3'
                        MDSeparator:
                        GridTier:
                            cols: 4
                            id: tier3
                            row_default_height:
                                (self.width - self.cols*self.spacing[0])/self.cols
                        TierLabel:
                            text: 'Tier 4'
                        MDSeparator:
                        GridTier:
                            cols: 4
                            id: tier4
                            row_default_height:
                                (self.width - self.cols*self.spacing[0])/self.cols
                        TierLabel:
                            text: 'Tier 5'
                        MDSeparator:
                        GridTier:
                            cols: 4
                            id: tier5
                            row_default_height:
                                (self.width - self.cols*self.spacing[0])/self.cols

            Screen:
                name: 'champs'
                id: champs
                on_enter:
                    app.addButton()
                    app.ads.show_banner()
                ScrollView:
                    do_scroll_x: True
                    GridLayout:
                        id: champsgrid
                        cols: 4
                        row_default_height:
                            (self.width - self.cols*self.spacing[0])/self.cols
                        row_force_default: True
                        size_hint_y: None
                        height: self.minimum_height
                        padding: dp(20), dp(20)
                        spacing: dp(10)

            Screen:
                name: 'items'
                id: 'items'
                spacing: dp(20)
                on_enter:
                    app.addButton()
                    app.ads.show_banner()
                ScrollView:
                    do_scroll_x: False
                    GridLayout:
                        rows:6
                        height: self.minimum_height
                        size_hint_y: None
                        spacing: dp(20)
                        padding: dp(10)
                        TierLabel:
                            text: 'Base'
                        MDSeparator:
                        GridLayout:
                            id: itembase
                            cols: 4
                            row_default_height:
                                (self.width - self.cols*self.spacing[0])/self.cols
                            row_force_default: True
                            size_hint_y: None
                            height: self.minimum_height
                            spacing: dp(10)
                        TierLabel:
                            text: 'Combined'
                        MDSeparator:
                        GridLayout:
                            id: itemgrid
                            cols: 4
                            row_default_height:
                                (self.width - self.cols*self.spacing[0])/self.cols
                            row_force_default: True
                            size_hint_y: None
                            height: self.minimum_height
                            spacing: dp(10)


