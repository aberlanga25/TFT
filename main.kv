#:import CardTransition kivy.uix.screenmanager.CardTransition

<MDCustomIconItem>:
    text: root.text
    AvatarSampleWidget:
        source: root.icon


<TierLabel@MDLabel>
    size_hint_y: None
    height: self.texture_size[1]
    font_style: 'H6'
    theme_text_color: 'Primary'
    markup: True
    halign: 'left'
    text_size: self.width - 20, None
<CImage>
    size: self.texture_size

<GridNews>
    cols: 1
    canvas.before:
        Color:
            rgba: .5, .5, .5, 1
        Line:
            width: 2
            rectangle: self.x, self.y, self.width, self.height

<GridTier@GridLayout>
    row_force_default: True
    size_hint_y: None
    height: self.minimum_height
    padding: dp(10), dp(10)
    spacing: dp(10)

NavigationLayout:
    id: nav_layout
    MDNavigationDrawer:
        id: nav_drawer
        drawer_logo: 'images/Logo.png'
        NavigationDrawerToolbar:
            title: 'B? - TFT '+app.tftv
    BoxLayout:
        scr_mngr: scr_mngr
        orientation: 'vertical'
        MDToolbar:
            id: toolbar
            title: 'TFT'
            elevation: 10
            left_action_items: [['menu', lambda x: app.root.toggle_nav_drawer()]]
            md_bg_color: app.theme_cls.primary_color

        ScreenManager:
            transition: CardTransition()
            id: scr_mngr
            Screen:
                name: 'news'
                id: news
                on_enter:
                    app.addButton()
                ScrollView:
                    do_scroll_x: False
                    #size_hint: 1, 1
                    GridLayout:
                        id: newsgrid
                        cols: 2
                        spacing: dp(50)
                        padding: dp(50)
                        size_hint_y: None
                        height: self.minimum_height
                        row_default_height: (self.width - self.cols*self.spacing[0])/self.cols
            Screen:
                name: 'tier'
                id: 'tier'
                on_enter:
                    app.addButton()
                ScrollView:
                    do_scroll_x: True
                    GridLayout:
                        id: tiergrid
                        rows:15
                        cols:1
                        #width: dp(700)
                        height: self.minimum_height
                        size_hint_y: None
                        #size_hint_x: None
                        padding: dp(4), dp(4)
                        spacing: dp(4)
                        TierLabel:
                            text: 'Tier 1'
                        MDSeparator:
                        GridTier:
                            cols: 4
                            id: tier1
                            row_default_height:
                                (self.width - self.cols*self.spacing[0])/self.cols
                        TierLabel:
                            text: 'Tier 2'
                        MDSeparator:
                        GridTier:
                            cols: 4
                            id: tier2
                            row_default_height:
                                (self.width - self.cols*self.spacing[0])/self.cols
                        TierLabel:
                            text: 'Tier 3'
                        MDSeparator:
                        GridTier:
                            cols: 4
                            id: tier3
                            row_default_height:
                                (self.width - self.cols*self.spacing[0])/self.cols
                        TierLabel:
                            text: 'Tier 4'
                        MDSeparator:
                        GridTier:
                            cols: 4
                            id: tier4
                            row_default_height:
                                (self.width - self.cols*self.spacing[0])/self.cols
                        TierLabel:
                            text: 'Tier 5'
                        MDSeparator:
                        GridTier:
                            cols: 4
                            id: tier5
                            row_default_height:
                                (self.width - self.cols*self.spacing[0])/self.cols

            Screen:
                name: 'champs'
                id: champs
                on_enter:
                    app.addButton()
                ScrollView:
                    do_scroll_x: True
                    GridLayout:
                        id: champsgrid
                        cols: 4
                        row_default_height:
                            (self.width - self.cols*self.spacing[0])/self.cols
                        row_force_default: True
                        size_hint_y: None
                        height: self.minimum_height
                        padding: dp(20), dp(20)
                        spacing: dp(10)

            Screen:
                name: 'items'
                id: 'items'
                spacing: dp(20)
                on_enter:
                    app.addButton()
                ScrollView:
                    do_scroll_x: False
                    GridLayout:
                        rows:6
                        height: self.minimum_height
                        size_hint_y: None
                        spacing: dp(20)
                        padding: dp(10)
                        TierLabel:
                            text: 'Base'
                        MDSeparator:
                        GridLayout:
                            id: itembase
                            cols: 4
                            row_default_height:
                                (self.width - self.cols*self.spacing[0])/self.cols
                            row_force_default: True
                            size_hint_y: None
                            height: self.minimum_height
                            spacing: dp(10)
                        TierLabel:
                            text: 'Combined'
                        MDSeparator:
                        GridLayout:
                            id: itemgrid
                            cols: 4
                            row_default_height:
                                (self.width - self.cols*self.spacing[0])/self.cols
                            row_force_default: True
                            size_hint_y: None
                            height: self.minimum_height
                            spacing: dp(10)
